<div class="loginContainer">
  <div class="formContainer">

    <%= form_for(resource, as: resource_name, url: user_registration_path(resource_name), html: {onsubmit: "convertDate();"}) do |f| %>
      <%= devise_error_messages! %>

      <div>
        <%= f.text_field :name, autofocus: true, autocomplete: "name", placeholder: "First name or nickname", :class => "inputField", :required => true %>
        <!-- <span class="required">*</span> -->
      </div>


      <div>
        <%= f.email_field :email, autofocus: true, autocomplete: "email", placeholder: "email@example.com", :class => "inputField", :required => true %>
        <!-- <span class="required">*</span> -->
      </div>

      <div class="formGroup">
        <span>
          <%= f.select :state, options_for_select(us_states, params.include?(:user)? params[:user][:state] : ""), {:prompt => "State"}, {:class => "inputField inputFieldSm", :required => true}  %>
        </span>
        <!-- <span class="required">*</span> -->

        <span>
          <%= f.select :country, options_for_select(countries, params.include?(:user)? params[:user][:country] : ""), {:prompt => "Country"}, {:class => "inputField inputFieldSm", :required => true, :onchange => "updateStateField();"} %>
        </span>
        <!-- <span class="required">*</span> -->
      </div>

      <input type="checkbox"
      name="share-location" value="Share country location with Turning Green"> Share county location with Turning Green
      </input>

      <span class="dot">
        <span class="i">i</span>
      </span>

      <div>
        <%= f.text_field :birthday, {class: "inputField", required: true, id: "datepicker", readonly: "", autocomplete: "off", placeholder: "mm/dd/yyyy"} %>
        <!-- <span class="required">*</span> -->
      </div>
      <script type="text/javascript">
        const picker = datepicker('#datepicker', {
          maxDate: new Date(),
          formatter: (input, date, instance) => {
            const value = date.toLocaleDateString()
            input.value = value
          }
        })
      </script>
      <div>
        <%= f.password_field :password, autocomplete: "current-password", placeholder: "Password", :class => "inputField", :required => true %>
        <!-- <span class="required">*</span> -->
      </div>

      <div>
        <%= f.password_field :password_confirmation, placeholder: "Reenter password", :class => "inputField", :required => true %>
        <!-- <span class="required">*</span> -->
      </div>

      <div>
        <%= f.select :referral, options_for_select(referral_choices), {:prompt => "How did you hear about us?"}, {:class => "inputField", :required => true} %>
        <!-- <span class="required">*</span> -->
      </div>

      <div class="termsAndConditions">
        <i>By registering, I agree to Terms and Conditions (and more legal stuff)</i>
      </div>

      <div>
        <%= f.submit "REGISTER", :class => "actions submitButton",  onclick: 'save_timezone();'%>
      </div>

    <% end %>
  </div>
</div>
